version: '3.8'

services:
  gha-runner:
    build:
      context: .
      dockerfile: Dockerfile
    image: gha-runner-yolo:latest
    runtime: sysbox-runc
    restart: unless-stopped
    env_file:
      - .env
    volumes:
      - runner-work:/home/runner/actions/_work
      - runner-tools:/home/runner/actions/_tools
      - /usr/bin/sysbox-runc:/usr/bin/sysbox-runc:ro

volumes:
  runner-work:
  runner-tools: